# Building on linux

sh setup.sh

# install extra system deps that conan can't install
# see: https://github.com/bincrafters/community/projects/37

# all in one: 
sudo apt-get install -y libgl-dev xorg-dev libx11-xcb-dev libxcb-render0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libjack-jackd2-0 libjack-jackd2-dev
# OR one by one:
sudo apt-get install -y libgl-dev
sudo apt-get install -y xorg-dev
sudo apt-get install -y libx11-xcb-dev
sudo apt-get install -y libxcb-render0-dev
sudo apt-get install -y libxcb-render-util0-dev
sudo apt-get install -y libxcb-xkb-dev
sudo apt-get install -y libxcb-icccm4-dev
sudo apt-get install -y libxcb-image0-dev
sudo apt-get install -y libxcb-keysyms1-dev
sudo apt-get install -y libxcb-randr0-dev
sudo apt-get install -y libxcb-shape0-dev
sudo apt-get install -y libxcb-sync-dev
sudo apt-get install -y libxcb-xfixes0-dev
sudo apt-get install -y libxcb-xinerama0-dev
sudo apt-get install -y libjack-jackd2-0
sudo apt-get install -y libjack-jackd2-dev

# setup build env
mkdir build
cd build

# run conan and set up building
cmake ..

# run build
cmake --build . --config Release
# OR instead you can do this to have it run on 4 threads
cmake --build . --config Release -- -j 4

# copy assets
cp -r ../FallingSandSurvival/assets/ FallingSandSurvival/assets
cp -r ../FallingSandSurvival/data/ FallingSandSurvival/data
cp -r ../FallingSandSurvival/gamedir/ FallingSandSurvival/gamedir

# run game
cd FallingSandSurvival/
./FallingSandSurvival
